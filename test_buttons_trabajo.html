<!DOCTYPE html>\n<html>\n<head>\n    <title>Debug Botones Categor√≠as Trabajo</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link href=\"/static/css/notifications.css\" rel=\"stylesheet\">\n    <style>\n        body { padding: 20px; font-family: Arial, sans-serif; }\n        .test-button { margin: 10px; padding: 10px 15px; }\n        .debug-info { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>üîß Debug - Botones Categor√≠as de Trabajo</h1>\n        \n        <div class=\"debug-info\">\n            <h4>1. Simulaci√≥n de Botones de Trabajo</h4>\n            \n            <!-- Simular bot√≥n editar trabajo -->\n            <button class=\"btn btn-primary btn-editar-categoria test-button\"\n                    data-categoria-id=\"1\"\n                    data-categoria-nombre=\"Mantenimiento Preventivo\"\n                    data-categoria-descripcion=\"Mantenimiento regular\"\n                    data-categoria-padre=\"\"\n                    data-categoria-complejidad=\"2\"\n                    data-categoria-activo=\"true\"\n                    data-tipo=\"trabajo\">\n                <i class=\"fas fa-edit\"></i> Editar Trabajo\n            </button>\n            \n            <!-- Simular bot√≥n ver palabras -->\n            <button class=\"btn btn-info btn-ver-palabras test-button\"\n                    data-categoria-id=\"1\"\n                    data-categoria-nombre=\"Mantenimiento Preventivo\">\n                <i class=\"fas fa-list\"></i> Ver Palabras\n            </button>\n            \n            <!-- Simular bot√≥n toggle -->\n            <button class=\"btn btn-warning btn-toggle-categoria test-button\"\n                    data-categoria-id=\"1\"\n                    data-tipo=\"trabajo\"\n                    data-categoria-activo=\"true\">\n                <i class=\"fas fa-power-off\"></i> Activar/Desactivar\n            </button>\n            \n            <!-- Simular bot√≥n eliminar -->\n            <button class=\"btn btn-danger btn-eliminar-categoria test-button\"\n                    data-categoria-id=\"1\"\n                    data-categoria-nombre=\"Mantenimiento Preventivo\"\n                    data-tipo=\"trabajo\">\n                <i class=\"fas fa-trash\"></i> Eliminar\n            </button>\n        </div>\n        \n        <div class=\"debug-info\">\n            <h4>2. Debug Manual</h4>\n            <button class=\"btn btn-success\" onclick=\"testEditarManual()\">Test Editar Manual</button>\n            <button class=\"btn btn-info\" onclick=\"testFunciones()\">Test Funciones Disponibles</button>\n            <button class=\"btn btn-secondary\" onclick=\"testEventListeners()\">Test Event Listeners</button>\n        </div>\n        \n        <div class=\"debug-info\">\n            <h4>3. Logs de Debug</h4>\n            <div id=\"debugLogs\" style=\"max-height: 300px; overflow-y: auto; background: #000; color: #0f0; padding: 10px; font-family: monospace;\"></div>\n        </div>\n    </div>\n    \n    <!-- Modal de Edici√≥n -->\n    <div class=\"modal fade\" id=\"modalEditarCategoria\" tabindex=\"-1\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">Editar Categor√≠a</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <input type=\"hidden\" id=\"editCategoriaId\">\n                    <input type=\"hidden\" id=\"editTipoCategoria\">\n                    <div class=\"mb-3\">\n                        <label class=\"form-label\">Nombre</label>\n                        <input type=\"text\" class=\"form-control\" id=\"editNombreCategoria\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <label class=\"form-label\">Descripci√≥n</label>\n                        <textarea class=\"form-control\" id=\"editDescripcionCategoria\"></textarea>\n                    </div>\n                    <div class=\"mb-3\">\n                        <label class=\"form-label\">Categor√≠a Padre</label>\n                        <select class=\"form-control\" id=\"editCategoriaPadre\">\n                            <option value=\"\">Sin padre</option>\n                        </select>\n                    </div>\n                    <div class=\"mb-3\" id=\"editComplejidadContainer\">\n                        <label class=\"form-label\">Complejidad</label>\n                        <select class=\"form-control\" id=\"editComplejidadCategoria\">\n                            <option value=\"1\">B√°sica</option>\n                            <option value=\"2\">Intermedia</option>\n                            <option value=\"3\">Avanzada</option>\n                        </select>\n                    </div>\n                    <div class=\"mb-3\">\n                        <div class=\"form-check\">\n                            <input type=\"checkbox\" class=\"form-check-input\" id=\"editActivoCategoria\">\n                            <label class=\"form-check-label\">Activo</label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" class=\"btn btn-primary\">Guardar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <!-- Scripts -->\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\n    <script src=\"/static/js/notifications.js\"></script>\n    <script src=\"/static/js/universal-fixes.js\"></script>\n    <script src=\"/static/js/gestion-categorias.js\"></script>\n    \n    <script>\n        // Sistema de logging\n        function debugLog(message) {\n            const logs = document.getElementById('debugLogs');\n            const timestamp = new Date().toLocaleTimeString();\n            logs.innerHTML += `[${timestamp}] ${message}\\n`;\n            logs.scrollTop = logs.scrollHeight;\n            console.log('[DEBUG]', message);\n        }\n        \n        // Test manual de editar\n        function testEditarManual() {\n            debugLog('Test manual de editarCategoriaTrabajo...');\n            if (typeof editarCategoriaTrabajo === 'function') {\n                debugLog('‚úÖ Funci√≥n editarCategoriaTrabajo encontrada');\n                try {\n                    editarCategoriaTrabajo(1, 'Test Manual', 'Descripci√≥n test', null, 2, true);\n                    debugLog('‚úÖ Funci√≥n ejecutada sin errores');\n                } catch (error) {\n                    debugLog('‚ùå Error al ejecutar funci√≥n: ' + error.message);\n                }\n            } else {\n                debugLog('‚ùå Funci√≥n editarCategoriaTrabajo NO encontrada');\n            }\n        }\n        \n        // Test de funciones disponibles\n        function testFunciones() {\n            debugLog('=== VERIFICANDO FUNCIONES ===');\n            const funciones = [\n                'editarCategoriaTrabajo',\n                'eliminarCategoriaTrabajo',\n                'verPalabrasCategoria',\n                'toggleCategoriaEstado',\n                'limpiarModalBackdrop',\n                'showSuccess',\n                'showError',\n                'showConfirm'\n            ];\n            \n            funciones.forEach(func => {\n                const exists = typeof window[func] === 'function';\n                debugLog(`${exists ? '‚úÖ' : '‚ùå'} ${func}: ${exists ? 'EXISTE' : 'NO EXISTE'}`);\n            });\n        }\n        \n        // Test de event listeners\n        function testEventListeners() {\n            debugLog('=== VERIFICANDO EVENT LISTENERS ===');\n            \n            const botones = document.querySelectorAll('.btn-editar-categoria');\n            debugLog(`Botones .btn-editar-categoria encontrados: ${botones.length}`);\n            \n            botones.forEach((btn, index) => {\n                debugLog(`Bot√≥n ${index + 1}: tipo=${btn.dataset.tipo}, id=${btn.dataset.categoriaId}`);\n            });\n            \n            // Test click program√°tico\n            if (botones.length > 0) {\n                debugLog('Intentando click program√°tico en primer bot√≥n...');\n                botones[0].click();\n            }\n        }\n        \n        // Interceptar eventos de click para debugging\n        document.addEventListener('click', function(e) {\n            if (e.target.closest('.btn-editar-categoria')) {\n                debugLog('üñ±Ô∏è Click detectado en bot√≥n editar');\n                const btn = e.target.closest('.btn-editar-categoria');\n                debugLog(`Datos del bot√≥n: tipo=${btn.dataset.tipo}, id=${btn.dataset.categoriaId}`);\n            }\n            \n            if (e.target.closest('.btn-toggle-categoria')) {\n                debugLog('üñ±Ô∏è Click detectado en bot√≥n toggle');\n            }\n            \n            if (e.target.closest('.btn-eliminar-categoria')) {\n                debugLog('üñ±Ô∏è Click detectado en bot√≥n eliminar');\n            }\n        });\n        \n        // Inicializaci√≥n\n        window.onload = function() {\n            debugLog('=== SISTEMA DE DEBUG INICIADO ===');\n            debugLog('Verificando que los scripts est√©n cargados...');\n            \n            setTimeout(() => {\n                testFunciones();\n                debugLog('Sistema listo para pruebas');\n            }, 1000);\n        };\n    </script>\n</body>\n</html>"
